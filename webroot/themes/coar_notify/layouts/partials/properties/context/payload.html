{{ $thisPayload := .payload }}
{{ $siteParams := .siteParams}}

{{ $namespaces := $siteParams.namespaces }}
{{ $otherContextsScratch := newScratch }}

{{ $defaultContext := "https://www.w3.org/ns/activitystreams#"}}

{{ range $thisPayload.contexts }}
    {{ $otherContextsScratch.SetInMap "otherContexts" . (index $namespaces .).uri }}
{{ end }}

{{ return dict "@context" (slice $defaultContext ($otherContextsScratch.Get "otherContexts")) }}